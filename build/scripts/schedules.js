"use strict";$(document).ready(function(){window.schedules={elements:{stop_prop:$(".stop-prop"),tab_enable:$("a[data-toggle] .toggle input"),tab_active:$("a[data-toggle]"),charge_chooser:$(".charge-settings-options label input"),off_peak:$(".off-peak-picker"),charge_label:$(".charge-label"),off_peak_start_time:$(".off-peak-start"),off_peak_start_time_tod:$(".off-peak-start-tod"),off_peak_stop_time:$(".off-peak-stop"),off_peak_stop_time_tod:$(".off-peak-stop-tod"),off_peak_update:$(".off-peak-update"),climate_footer_toggle:$(".climate-footer .toggle input"),inputs:$(".schedules-combined input"),save_button:$(".save-schedules-button")},methods:{_stop_prop:function e(s){s.stopPropagation()},_tab_active:function e(){var s=$(this);window.schedules.elements.tab_active.removeClass("active"),s.addClass("active")},_tab_enable:function e(){var s=$(this),t=s.prop("checked"),o=s.parents("a[data-toggle]");t?o.addClass("enabled"):o.removeClass("enabled")},_off_peak:function e(){var s=$(this);"off-peak"===s.val()&&s.prop("checked")?window.schedules.elements.off_peak.addClass("show"):window.schedules.elements.off_peak.removeClass("show"),window.schedules.methods._set_charge_label()},_set_charge_label:function e(){if("plug"===window.schedules.elements.charge_chooser.filter(":checked").val())window.schedules.elements.charge_label.text("When I plug it in");else{var s="";s+=window.schedules.elements.off_peak_start_time.val(),s+=" ",s+=window.schedules.elements.off_peak_start_time_tod.filter(":checked").val(),s+=" - ",s+=window.schedules.elements.off_peak_stop_time.val(),s+=" ",s+=window.schedules.elements.off_peak_stop_time_tod.filter(":checked").val(),s=s.toUpperCase(),window.schedules.elements.charge_label.text(s)}},_climate_footer_toggle:function e(){var s=$(this),t=s.parents(".climate-footer-col");s.prop("checked")?t.find("i").addClass("green"):t.find("i").removeClass("green")},_changes_made:function e(){console.log("changes made"),window.schedules.elements.save_button.removeClass("disabled"),window.schedules.methods._confirm_changes()},_confirm_changes:function e(){$("a:not([data-toggle])[href]").on("click",function(e){e.preventDefault(),$("#confirm-changes").modal("show")})},_save_settings:function e(){window.schedules.elements.save_button.addClass("spinning"),window.loading.methods._loading_start(),setTimeout(function(){window.accountSettings.methods._enable(),window.loading.methods._loading_stop(),window.schedules.elements.save_button.removeClass("spinning"),window.alerts.methods.open._success()},2e3)}}},window.schedules.elements.stop_prop.on("click",window.schedules.methods._stop_prop),window.schedules.elements.tab_enable.on("change",window.schedules.methods._tab_enable),window.schedules.elements.tab_active.on("click",window.schedules.methods._tab_active),window.schedules.elements.charge_chooser.on("change",window.schedules.methods._off_peak),window.schedules.elements.off_peak_update.on("change",window.schedules.methods._set_charge_label),window.schedules.elements.climate_footer_toggle.on("change",window.schedules.methods._climate_footer_toggle),window.schedules.elements.inputs.on("change",window.schedules.methods._changes_made),window.schedules.elements.save_button.on("click",window.schedules.methods._save_settings)});