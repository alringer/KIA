"use strict";$(document).ready(function(){window.preLogin={elements:{status:$(".status"),nav_scroll:$("nav.scroll"),nav_scroll_trigger:$(".trigger-nav-scroll"),map:$(".map-scroll"),map_element:$(".map-element"),car:$(".car"),car_icon:$(".car-element"),car_container:$(".car-container"),car_stop:$(".car-stop"),path:$("#pathy"),path_m:$("#pathm"),map_path_m:$(".map-path-m"),mobile_map:$(".mobile-map"),scroll_box:$(".white-box.on-scroll"),scroll_info:$(".map-info.on-scroll"),alert:$(".alert-circle.on-scroll"),map_stats:$(".map-stats")},methods:{_scroll:function e(){if(window.preLogin.elements.status.length){var n=window.preLogin.elements.status.offset().top,t=window.pageYOffset,o=window.innerHeight;t>n-.75*o&&window.preLogin.elements.status.addClass("play"),t>window.preLogin.elements.nav_scroll_trigger.offset().top?window.preLogin.elements.nav_scroll.addClass("show"):window.preLogin.elements.nav_scroll.removeClass("show");var a=window.innerWidth>767?window.preLogin.elements.map_element.outerWidth()/807:1,s=window.innerWidth>767?150:-70*a,i=window.preLogin.elements.map_element.offset().top-s*(1-a+1),r=window.innerWidth>767?document.getElementById("pathy"):document.getElementById("pathm"),l=window.innerWidth>767?window.preLogin.elements.path.offset().top-Math.abs(i-window.preLogin.elements.path.offset().top):window.preLogin.elements.path_m.offset().top-Math.abs(i-window.preLogin.elements.path_m.offset().top);if(r){var w=r.getPointAtLength((t-l)/((window.innerWidth>767?1896:1748*a)*a)*Math.floor(r.getTotalLength()));if(w.x=w.x*a,w.y=w.y*a,window.preLogin.elements.mobile_map.css("transform","translateX(50%) scale("+a+")"),t>i)if(window.preLogin.elements.car.addClass("fixed"),w.x>=0){window.preLogin.elements.car_container.css("transform","translateX("+w.x+"px) scale("+a+")");var d=window.preLogin.elements.car_container.data("point");if(d){var p=180*Math.atan2(w.y-d.y,w.x-d.x)/Math.PI-90;window.preLogin.elements.car_icon.css("transform","rotate("+p+"deg)")}window.preLogin.elements.car_container.data("point",w)}else window.preLogin.elements.car_container.css("transform","scale("+a+")");else window.preLogin.elements.car.removeClass("fixed");t>window.preLogin.elements.car_stop.offset().top-275?window.preLogin.elements.car.addClass("hide-car"):window.preLogin.elements.car.removeClass("hide-car")}if(window.preLogin.elements.scroll_box.each(function(){var e=$(this);t>e.offset().top-400&&(e.addClass("show"),console.log("showing"))}),window.preLogin.elements.scroll_info.each(function(){var e=$(this);t>e.offset().top-200&&e.addClass("show")}),window.preLogin.elements.alert.each(function(){var e=$(this);t>e.offset().top-310&&e.addClass("show")}),t>window.preLogin.elements.map_stats.offset().top-300){var c=0;window.preLogin.elements.map_stats.find(".count").each(function(){var e=this,n=$(this);n.data("interval")||(n.data("interval",setInterval(function(){var n=$(e),t=n.data("count"),o=parseInt(n.text(),10);if(o>=t)return void clearInterval(n.data("interval"));n.text(o+1)},50)),c++)})}}}}},$(window).on("scroll",window.preLogin.methods._scroll),$(window).on("resize",window.preLogin.methods._scroll),$(document).ready(function(){setTimeout(function(){window.preLogin.methods._scroll()},200)})});